<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.serendipity.model.ReportDAO">
	<insert id="ReportWrite">
		insert into report(report_num, reporter, villain, report_title, report_content)
		values(report_seq.nextval, #{reporter}, #{villain}, #{report_title}, #{report_content})
	</insert>
	
	<select id="ReportDetail" resultType="hashmap">
		select report_num, reporter, villain, report_title, report_content from report r,member m where r.reporter=m.user_num and r.villain=m.user_num and report_num=#{report_num}
	</select>
	
	<select id="ReportList" resultType="hashmap">
		select report_num, reporter, villain, report_title from report order by report_num desc
	</select>
	
	<select id="getReportListCount" resultType="Integer">
		select count(*) from report
	</select>

</mapper>